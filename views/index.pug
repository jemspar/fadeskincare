extends layout

block scripts
  script(src="/javascripts/index.js")
  script(src="https://unpkg.com/showdown/dist/showdown.min.js")
  script(src="/javascripts/process_desc.js")

block cart_summary
  a(href="/cart")
    h3#cart_link
      | cart: 
      span#cart_items= cart.totalQty
      |  items

block content
  each prod in products
    if prod.available
      div(class='product' id=prod._id)
        h2.name= prod.name
        img(src=prod.imagePath, class="prodImg")
        .description
          h3.price
            | $ 
            = prod.price   
          button(onClick="addToCart(\"" + prod._id + "\")").add_to_cart
            | Add to cart
          span.added
            img(src="/images/shooting-star.png", alt="shooting star emoji")
            | added to cart!
          br
          if prod.descriptionPath
            script.
              processDescription("#{prod._id}", "#{prod.descriptionPath}");
          else
            | No description available.

